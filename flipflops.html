<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flip-flop</title>
</head>
<body>
    <form name="valaszt" method="get" enctype="text/plain">
        <h1>Tároló áramkörök (Flip-flop, Latch) működése</h1>
    
        <h3>Tároló típusa</h3> 
        <select name="tarolo" size="1" onchange="flipflopType()">
                <option value="sr" selected>SR Latch</option>
                <option value="dg">DG Latch</option>
                <option value="jk">JK flip-flop</option>
                <option value="t">T flip-flop</option>
                <option value="d">D flip-flop</option>		
        </select>
        <p> </p>
        <br>		
    </form>		
    <canvas width="700" height="500" id="drawsheet" onclick="clickCanv(event)" style="border:2px solid#c3c3c3;background-color: #f1f1f1;">
    A HTML5 canvas nem támogatott! </canvas>
      
    <script LANGUAGE="JavaScript">
 
        var canv1;
        var draw1;
        var flipflop="SR";
        
        setupdraw1();
        
        //*********************************************************************************
        
        function setupdraw1()
        {
            canv1 = document.getElementById("drawsheet");
            draw1 = canv1.getContext("2d");
        
            drawLatch(0,0);		// tároló kirajzolása
        }
        
        //*********************************************************************************
        
        function flipflopType()
        {

        }  
        
       //*********************************************************************************
        
       function clickCanv()
        {

        }     

        //*********************************************************************************

        function drawLatch(x,y)
        {    
	    // SR vagy DG tároló rajzolása
	    //  x,y  kezdő koordináták (bal-felső sarok)
	    //  szükséges terület ->  420*300
            var label1;
	
            draw1.clearRect(x,y,420,300);
            draw1.textBaseline = "bottom";
 	        draw1.textAlign = "left";
 	        draw1.fillStyle="#FF0000";
 	        draw1.font="25px Arial";
 	
 	        if(flipflop=="SR")
		        label1 = "SR tároló  (SR latch)";
	        else if(flipflop=="DG")
                label1 = "DG tároló  (DG latch)";
	        
            draw1.fillText(label1,x+30,y+50);   
	        // draw1.fill();
	
	        // tároló
	        draw1.lineWidth=3;
	        draw1.strokeStyle="#FF0000";	
	        draw1.fillStyle = "#C3C3C3";
	        
            {
                draw1.beginPath();
	            draw1.strokeRect(x+160,y+100,100,160);
	            draw1.moveTo(x+115,y+140);
 	            draw1.lineTo(x+160,y+140);  //  bemenet_A
 	            draw1.moveTo(x+115,y+220);
 	            draw1.lineTo(x+160,y+220);  //  bemenet_B
 	            draw1.closePath();	
	            draw1.stroke();

            }


	        {
                
		        draw1.beginPath();
                draw1.moveTo(x+260,y+140);
		        draw1.lineTo(x+310,y+140);   // kimenet  Q
                draw1.closePath();		
                draw1.stroke();
                draw1.beginPath();
                draw1.arc(x+267,y+220,7,0,2*Math.PI);
		        draw1.moveTo(x+274,y+220);
		        draw1.lineTo(x+310,y+220);   // negált kimenet    
		        draw1.closePath();	
                draw1.stroke();
                //draw1.fill();

	        }
	        
	
	        // bemenetek feliratok
	        draw1.font="25px Arial";
	        draw1.fillStyle = "#221999";
            if(flipflop=="SR")
	        {   draw1.fillText("S",x+170,y+150);
 	            draw1.fillText("R",x+170,y+230);
            }
            else
            {
                draw1.fillText("D",x+170,y+150);
 	            draw1.fillText("G",x+170,y+230);
            }

            // draw1.fill();
 	        // rajzbeki2(x+70,y+150,x+340,y+190);	
 	
        }





</script>

</body>
</html>