<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flip-flop</title>
</head>
<body onload="startdraw()" >
    <form name="valaszt" method="get" enctype="text/plain">
        <h1>Tároló áramkörök (Flip-flop, Latch) működése</h1>
    
        <h3>Tároló típusa</h3> 
        <select name="tarolo" size="1" onchange="flipflopType()">
                <option value="sr" selected>SR Latch</option>
                <option value="dg">DG Latch</option>
                <option value="jk">JK flip-flop</option>
                <option value="t">T flip-flop</option>
                <option value="d">D flip-flop</option>		
        </select>
        <p> </p>
        <br>		
    </form>		
    <canvas width="700" height="600" id="drawsheet" onclick="clickCanv(event)" style="border:2px solid#c3c3c3;background-color: #f1f1f1;">
    A HTML5 canvas nem támogatott! </canvas>
      
    <script LANGUAGE="JavaScript">
 
    var canv1;
    var draw1;
      
    var myFlipflop;
        
        
    //*********************************************************************************
        
    function startdraw()
    {
            canv1 = document.getElementById("drawsheet");
            draw1 = canv1.getContext("2d");
        
           
            myFlipflop= new Flipflop(0,0,420,300,"SR");		// tároló létrehozása
            drawLabel(draw1,0,0);       // rajz felirata
            myFlipflop.draw(draw1);
            
    }
        
    //*********************************************************************************
        
    function flipflopType()
     {

    }  
        
    //*********************************************************************************
        
    function clickCanv()
    {

    }     

   //*********************************************************************************

    function drawLabel(sheet,x,y)
    {    
	    // felirat kiírása
	    //  x,y  kezdő koordináták (bal-felső sarok)
	    //  szükséges terület ->  420*300
            var label1;
	
            sheet.clearRect(x,y,420,300);
            sheet.textBaseline = "bottom";
            sheet.textAlign = "left";
            sheet.fillStyle="#FF0000";
 	        sheet.font="25px Arial";
 	
 	        if(myFlipflop.type=="SR")
		        label1 = "SR tároló  (SR latch)";
	        else if(myFlipflop.type=="DG")
                label1 = "DG tároló  (DG latch)";
	        
            sheet.fillText(label1,x+30,y+50);


    }

    //*********************************************************************************

	class Flipflop{
         constructor(x,y,w,h,typ){    
	    // SR vagy DG tároló rajzolása
	    //  x,y  kezdő koordináták (bal-felső sarok)
	    // w - szélesség,  h - magasság
	    //  szükséges terület ->  420*300
	       
			this.x=x;
			this.y=y;
			this.width=w;
			this.height=h;
			this.type=typ;
	    
	     }
	     
	     draw(sheet)
	     {
            var label1;
	
            // sheet.clearRect(x,y,420,300);
            sheet.textBaseline = "bottom";
            sheet.textAlign = "left";
	        
	
	        // tároló
	        sheet.lineWidth=3;
	        sheet.strokeStyle="#FF0000";	
	        sheet.fillStyle = "#C3C3C3";
	        
            {
                sheet.beginPath();
	            sheet.strokeRect(160,100,100,160);
	            sheet.moveTo(115,140);
 	            sheet.lineTo(160,140);  //  bemenet_A
 	            sheet.moveTo(115,220);
 	            sheet.lineTo(160,220);  //  bemenet_B
 	            sheet.closePath();	
	            sheet.stroke();
                
		        sheet.beginPath();
                sheet.moveTo(260,140);
		        sheet.lineTo(310,140);   // kimenet  Q
                sheet.closePath();		
                sheet.stroke();
                sheet.beginPath();
                sheet.arc(267,220,7,0,2*Math.PI);
		        sheet.moveTo(274,220);
		        sheet.lineTo(310,220);   // negált kimenet    
		        sheet.closePath();	
                sheet.stroke();
                //sheet.fill();

	        }
	        
	        // bemenetek feliratok
	        sheet.font="25px Arial";
	        sheet.fillStyle = "#221999";
            sheet.fillText(this.type[0],170,150);
 	        sheet.fillText(this.type[1],170,230);

 	
          }

	}



</script>

</body>
</html>
